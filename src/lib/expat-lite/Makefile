##
##  Apache Makefile, automatically generated by Configure script.
##  Hand-edited changes will be lost if the Configure script is re-run.
##  Sources: - ../../Makefile.config (via Configuration.apaci)
##           - ./Makefile.tmpl
##

##
##  Inherited Makefile options from Configure script
##  (Begin of automatically generated section)
##
SRCDIR=../..
EXTRA_CFLAGS=-Os -pipe -mfpmath=sse -ffixed-ebp -fforce-addr -fomit-frame-pointer -fexpensive-optimizations -funroll-loops -ffast-math `$(SRCDIR)/apaci`
EXTRA_LDFLAGS=
EXTRA_LIBS=
EXTRA_INCLUDES=
EXTRA_DEPS=
OSDIR=$(SRCDIR)/os/unix
INCDIR=$(SRCDIR)/include
INCLUDES0=-I$(OSDIR) -I$(INCDIR)
SHELL=/bin/sh
OS=Linux
CC=gcc
CPP=gcc -E
TARGET=httpd
OPTIM=
PHP_CFLAGS= -DLINUX=22 -DHAVE_SET_DUMPABLE -DINET6 -Dss_family=__ss_family -Dss_len=__ss_len -DNO_DBM_REWRITEMAP  -I/usr/src/php-5.3.29/main -I/usr/src/php-5.3.29/Zend -I/usr/src/php-5.3.29/TSRM -I/usr/src/php-5.3.29 -I/usr/src/php-5.3.29/sapi/apache -I/usr/src/php-5.3.29/main -I/usr/src/php-5.3.29/Zend -I/usr/src/php-5.3.29/TSRM
PHP_LIBS= -Wl,-rpath,/usr/lib64/mysql  -rdynamic -L/usr/lib64/mysql -Lmodules/php5 -L../modules/php5 -L../../modules/php5 -lmodphp5    -rdynamic -L/usr/lib64/mysql -lcrypt   -lresolv -lcrypt -lmysqlclient -lmcrypt -lltdl -lpng -lz -ljpeg -lcurl -lbz2 -lz -lrt -lm -ldl -lnsl  -lxml2 -lz -lm -ldl -lcurl -lxml2 -lz -lm -ldl -lmysqlclient -lz -lm -lssl -lcrypto -ldl -lxml2 -lz -lm -ldl -lcrypt -lxml2 -lz -lm -ldl -lcrypt   -lm -lcrypt
CFLAGS1= -DLINUX=22 -DHAVE_SET_DUMPABLE -DINET6 -Dss_family=__ss_family -Dss_len=__ss_len -DNO_DBM_REWRITEMAP -DUSE_EXPAT -I$(SRCDIR)/lib/expat-lite -DNO_DL_NEEDED
INCLUDES1=
LIBS_SHLIB=
LDFLAGS1=
MFLAGS_STATIC=--no-print-directory
REGLIB=
EXPATLIB=lib/expat-lite/libexpat.a
RANLIB=ranlib
LIBS1=  -Wl,-rpath,/usr/lib64/mysql  -rdynamic -L/usr/lib64/mysql -Lmodules/php5 -L../modules/php5 -L../../modules/php5 -lmodphp5    -rdynamic -L/usr/lib64/mysql -lcrypt   -lresolv -lcrypt -lmysqlclient -lmcrypt -lltdl -lpng -lz -ljpeg -lcurl -lbz2 -lz -lrt -lm -ldl -lnsl  -lxml2 -lz -lm -ldl -lcurl -lxml2 -lz -lm -ldl -lmysqlclient -lz -lm -lssl -lcrypto -ldl -lxml2 -lz -lm -ldl -lcrypt -lxml2 -lz -lm -ldl -lcrypt   -lm -lcrypt
##
##  (End of automatically generated section)
##

#
# default definition of these two. dunno how to get it prepended when the
# Makefile is built, so we do it manually
#
CFLAGS=$(OPTIM) $(CFLAGS1) $(EXTRA_CFLAGS) -DAPACHE
INCLUDES=$(INCLUDES1) $(INCLUDES0) $(EXTRA_INCLUDES)

OBJS=xmltok.o xmlrole.o xmlparse.o hashtable.o

all lib: libexpat.a

libexpat.a: $(OBJS)
	rm -f libexpat.a
	ar cr libexpat.a $(OBJS)
	$(RANLIB) libexpat.a

clean:
	rm -f $(OBJS) libexpat.a

distclean: clean
	-rm -f Makefile

.SUFFIXES: .o

.c.o:
	$(CC) -c $(INCLUDES) $(CFLAGS) $<
